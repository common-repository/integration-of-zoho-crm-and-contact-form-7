var Pe=Object.defineProperty,Ze=Object.defineProperties;var qe=Object.getOwnPropertyDescriptors;var Fe=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable;var Ee=(t,a,r)=>a in t?Pe(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,F=(t,a)=>{for(var r in a||(a={}))Be.call(a,r)&&Ee(t,r,a[r]);if(Fe)for(var r of Fe(a))De.call(a,r)&&Ee(t,r,a[r]);return t},Me=(t,a)=>Ze(t,qe(a));var Oe=(t,a,r)=>new Promise((l,i)=>{var s=h=>{try{b(r.next(h))}catch(w){i(w)}},p=h=>{try{b(r.throw(h))}catch(w){i(w)}},b=h=>h.done?l(h.value):Promise.resolve(h.value).then(s,p);b((r=r.apply(t,a)).next())});import{j as e,r as R,e as v,L as oe}from"./index-1.0.6.js";import{c as Ke,_ as n,E as We,d as se,e as me,M as He,f as Se,g as Ge}from"./bi-727-9.js";import{a as Je,r as Ye,b as Qe}from"./bi-707-17.js";const pt=(t,a,r,l,i,s,p,b)=>Oe(void 0,null,function*(){const h=[...a];let w="integration/save";const E=F({formId:t},i);b&&(w="integration/update",h[p]=F(F({},a[p]),i));try{const y=yield Ke(E,w);return y.success&&(b||h.push(Me(F({},i),{newItegration:!0,id:y.data.id,status:1})),r([...h])),y}catch(y){return n("Failed to save integration","bitcf7zc")}}),mt=t=>{const a={},l=window.location.href.replace(`${window.opener.location.href}/redirect`,"").split("&");l&&l.forEach(i=>{const s=i.split("=");s[1]&&(a[s[0]]=s[1])}),localStorage.setItem(`__bitforms_${t}`,JSON.stringify(a)),window.close()},ue=(t,a,r,l,i)=>{const s=F({},a);i?l?s.relatedlists[i-1].upload_field_map.splice(t,0,{}):s.relatedlists[i-1].field_map.splice(t,0,{}):l?s.upload_field_map.splice(t,0,{}):s.field_map.splice(t,0,{}),r(F({},s))},Xe=(t,a,r,l,i)=>{const s=F({},a);i?l?s.relatedlists[i-1].upload_field_map.length>1&&s.relatedlists[i-1].upload_field_map.splice(t,1):s.relatedlists[i-1].field_map.length>1&&s.relatedlists[i-1].field_map.splice(t,1):l?s.upload_field_map.length>1&&s.upload_field_map.splice(t,1):s.field_map.length>1&&s.field_map.splice(t,1),r(F({},s))},Te=(t,a,r,l,i,s)=>{const p=F({},r);s?i?p.relatedlists[s-1].upload_field_map[a][t.target.name]=t.target.value:p.relatedlists[s-1].field_map[a][t.target.name]=t.target.value:i?p.upload_field_map[a][t.target.name]=t.target.value:p.field_map[a][t.target.name]=t.target.value,t.target.value==="custom"&&(s?p.relatedlists[s-1].field_map[a].customValue="":p.field_map[a].customValue=""),l(F({},p))},Ce=(t,a,r,l,i)=>{const s=F({},r);i?s.relatedlists[i-1].field_map[a].customValue=t.target.value:s.field_map[a].customValue=t.target.value,l(F({},s))};function xt({step:t,saveConfig:a,edit:r,disabled:l}){return r?e.jsx("div",{className:"txt-center w-9 mt-3",children:e.jsx("button",{onClick:a,className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:l,children:n("Update","bitcf7zc")})}):e.jsxs("div",{className:"btcd-stp-page txt-center",style:{width:t===3&&"90%",height:t===3&&"100%"},children:[e.jsx("h2",{className:"ml-3",children:n("Successfully Integrated","bitcf7zc")}),e.jsxs("button",{onClick:a,className:"btn btcd-btn-lg green sh-sm",type:"button",children:[n("Finish & Save ","bitcf7zc"),"âœ”"]})]})}function be(t){var a=R.useRef();return a.current||(a.current={v:t()}),a.current.v}const we=R.createContext(),Ne=R.createContext(),et=({state:t,children:a})=>{const r=R.useState(0),l=be(()=>({tabs:0,panels:0})),i=t||r;return v.createElement(Ne.Provider,{value:l},v.createElement(we.Provider,{value:i},a))},tt=()=>{const[t,a]=R.useContext(we),r=R.useContext(Ne),l=be(()=>{const p=r.tabs;return r.tabs+=1,p}),i=be(()=>()=>a(l));return R.useMemo(()=>({isActive:t===l,onClick:i}),[t,i,l])},st=()=>{const[t]=R.useContext(we),a=R.useContext(Ne);return be(()=>{const l=a.panels;return a.panels+=1,l})===t},Ae=({children:t})=>{const a=tt();return typeof t=="function"?t(a):R.isValidElement(t)?R.cloneElement(t,a):t},Ie=({active:t,children:a})=>st()||t?a:null;function re(){return(re=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t}).apply(this,arguments)}function Ve(t,a){(a==null||a>t.length)&&(a=t.length);for(var r=0,l=new Array(a);r<a;r++)l[r]=t[r];return l}function $e(){return v.createElement("svg",{viewBox:"0 0 10 10",className:"msl-close-icn"},v.createElement("line",{stroke:"currentColor",strokeLinecap:"round",x1:"0",y1:"0",x2:"10",y2:"10"}),v.createElement("line",{stroke:"currentColor",strokeLinecap:"round",x1:"0",y1:"10",x2:"10",y2:"0"}))}function lt(t){var a,r=t.deleteAction;return v.createElement("div",{clickable:"true",className:"msl-chip"},typeof(a=t.value).label=="object"?(a==null?void 0:a.title)||a.value:a.label,v.createElement("div",{role:"button",clickable:"true","aria-label":"delete-value",onClick:r,onKeyPress:r,tabIndex:"0",className:"msl-btn msl-chip-delete msl-flx"},v.createElement($e,null)),v.createElement("span",null))}function at(){return v.createElement("svg",{viewBox:"0 0 20 20",className:"msl-arrow-icn"},v.createElement("line",{stroke:"currentColor",strokeLinecap:"round",x1:"10",y1:"14",x2:"4",y2:"8"}),v.createElement("line",{stroke:"currentColor",strokeLinecap:"round",x1:"16",y1:"8",x2:"10",y2:"14"}))}function Le(t){var a=t.singleSelect,r=t.addValue,l=t.checkValueExist,i=t.value;if(t.largeData&&!t.menuOpen)return null;var s=[];return function p(b){for(var h,w=function(){var y=h.value,O=y[0],d=y[1];d.type==="group"?(s.push(v.createElement("div",{key:d.title+O,"data-msl":!0,className:"msl-grp-title"},d.title)),d.childs.length>0?p(d.childs):s.push(v.createElement("option",{className:"msl-option msl-option-disable"},d.emptyDataLabel||"No Data Found"))):s.push(v.createElement("div",re({tabIndex:"0",key:d.value+d.label+O+10},!a&&{"data-msl":!0},{style:re({},d.style&&d.style),onClick:function(){!d.disabled&&r(d)},onKeyPress:function(f){f.key==="Enter"&&!d.disabled&&r(d)},title:typeof d.label=="object"?d==null?void 0:d.title:d.label,className:"msl-option "+(l(d,i)?"msl-option-active":"")+" "+(d.disabled?"msl-option-disable":"")+" "+(d.classes!==void 0?d.classes:""),value:d.value}),d.label))},E=function(y,O){var d=typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(d)return(d=d.call(y)).next.bind(d);if(Array.isArray(y)||(d=function(z,q){if(z){if(typeof z=="string")return Ve(z,void 0);var _=Object.prototype.toString.call(z).slice(8,-1);return _==="Object"&&z.constructor&&(_=z.constructor.name),_==="Map"||_==="Set"?Array.from(z):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?Ve(z,void 0):void 0}}(y))){d&&(y=d);var f=0;return function(){return f>=y.length?{done:!0}:{done:!1,value:y[f++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(b.entries());!(h=E()).done;)w()}(t.opts),v.createElement("div",null,s)}function ye(t){var a=t.options,r=t.downArrowIcon,l=t.closeIcon,i=t.clearable,s=t.clearAll,p=t.downArrow,b=t.onChange,h=t.singleSelect,w=t.jsonValue,E=t.defaultValue,y=t.className,O=t.placeholder,d=t.disableChip,f=t.name,z=t.style,q=t.attr,_=t.largeData,S=t.disabled,A=t.limit,H=t.emptyDataLabel,U=t.customValue,G=t.onMenuOpen,D=t.onMenuClose,J=t.chipAlternateText,Y=t.closeOnSelect,Q=t.disableSearch,K=R.useState([]),o=K[0],le=K[1],ae=R.useState(a||[]),I=ae[0],ee=ae[1],ie=R.useState(null),P=ie[0],X=ie[1],c=R.useRef(null),x=function(m){var g=m.onClickOutside,j=R.useState(m.initialIsVisible),k=j[0],L=j[1],B=R.useRef(null),Z=function(M){M.key==="Escape"&&L(!1)},N=function M(ne){B.current&&!B.current.contains(ne.target)&&(document.removeEventListener("keydown",Z,!0),document.removeEventListener("click",M,!0),L(!1),g())};return R.useEffect(function(){return document.addEventListener("keydown",Z,!0),document.addEventListener("click",N,!0),function(){document.removeEventListener("keydown",Z,!0),document.removeEventListener("click",N,!0)}}),{ref:B,isComponentVisible:k,setIsComponentVisible:L}}({initialIsVisible:!1,onClickOutside:D}),u=x.ref,V=x.isComponentVisible,T=x.setIsComponentVisible,te="calc(100% - "+(i&&p?60:p||i?40:5)+"px)";R.useEffect(function(){s&&o.length&&je()},[s]),R.useEffect(function(){ee(a)},[a]),R.useEffect(function(){var m=function(g,j){if(!g)return[];var k=g,L=[],B=[];typeof g=="string"&&(k=g.split(","));for(var Z=function($){if(typeof $=="string")L.push({label:$,value:$});else if(typeof $=="object"){var ve={label:$,value:$};"label"in $&&typeof $.label=="string"?ve.label=$.label:"title"in $&&(ve.label=$.title),L.push(ve)}},N=0;N<k.length;N++)if(typeof k[N]=="string"){var M=pe(k[N],j,!0,"value");M.length>0?B.push(M[0]):U&&Z(k[N])}else if(typeof k[N]=="object"){var ne=pe(k[N].value,j,!0,"value");ne.length>0?B.push(ne[0]):U&&Z(k[N])}var ce=[];return L.length&&(ce=ze(L)),ee([].concat(a,ce)),[].concat(B,L)}(E,I);h&&m.length&&(m=[m[0]]),le(m),Y&&h&&T(!1)},[E]);var W,C,ge=function(m){if(le(m),w)b(m);else{var g="";g+=m.map(function(j){return j.value}),b(g)}},de=function(m,g){return g.some(function(j){return j.value===m.value})},he=function(m){var g=[].concat(o);h?g=de(m,o)?[]:[m]:de(m,o)?g=g.filter(function(j){return j.value!==m.value}):(A===null||A>o.length)&&g.push(m),ge(g),X(null),c.current&&(c.current.innerHTML="")},je=function(){ge([])},ke=function(){return!(Q||(h||d)&&(!h||o.length)&&(h||!d||o.length))},pe=function(m,g,j,k){var L=[],B=[];return function Z(N){for(var M=0;M<N.length;M++){var ne;if(((ne=N[M])===null||ne===void 0?void 0:ne.type)==="group")Z(N[M].childs);else if(j)j&&N[M][k]===m&&L.push(N[M]);else{var ce,$;typeof N[M].label!="object"&&N[M].label.match(new RegExp(""+m,"gi"))||typeof N[M].label=="object"&&(ce=N[M])!==null&&ce!==void 0&&($=ce.title)!==null&&$!==void 0&&$.match(new RegExp(""+m,"gi"))?L.push(N[M]):N[M].value.match(new RegExp(""+m,"gi"))&&B.push(N[M])}typeof N[M].label!="object"||"title"in N[M]}}(g),[].concat(L,B)},ze=function(m){var g=[],j=I.findIndex(function(k){return(k==null?void 0:k.type)==="group"&&(k==null?void 0:k.title)==="Custom Values"});return j===-1?g.push({title:"Custom Values",type:"group",childs:[].concat(m)}):Array.isArray(m)?m.map(function(k){return I[j].childs.push(k)}):typeof m=="object"&&I[j].childs.push(m),ee([].concat(I,g)),g},_e=function(m){var g=m.target;(function(j){return!(j.hasAttribute("clickable")||j.parentNode.hasAttribute("clickable")||j.parentNode.parentNode.hasAttribute("clickable")||j.parentNode.parentNode.parentNode.hasAttribute("clickable"))})(g)&&(function(j){if(j.hasAttribute("dropdown-handle")||j.parentNode.hasAttribute("dropdown-handle")||j.parentNode.parentNode.hasAttribute("dropdown-handle"))return!0}(g)&&V?(T(!1),D()):(T(!0),G(),c.current&&c.current.focus()))},Re=function(m){return typeof m.label=="object"?(m==null?void 0:m.title)||m.value:m.label};return v.createElement("div",re({ref:u},q,{onClick:_e,tabIndex:"0",onKeyPress:_e,style:re({},z),className:"msl-wrp msl-vars "+y+" "+(S?"msl-disabled":"")}),v.createElement("input",{name:f,type:"hidden",value:o==null?void 0:o.map(function(m){return m.value})}),v.createElement("div",{"data-msl":!0,className:"msl "+(V&&(W=u.current,C=W.getBoundingClientRect(),window.innerHeight-(C.top+W.clientHeight)<200?"msl-active-up":"msl-active"))+" "},v.createElement("div",{"data-msl":!0,className:"msl-input-wrp",style:{width:te}},!h&&!d&&o.map(function(m,g){return v.createElement(lt,{key:"msl-chip-"+(g+11),value:m,deleteAction:function(){return function(j){var k=[].concat(o);k.splice(j,1),ge(k)}(g)}})}),!h&&d&&o.length>0&&v.createElement("span",{className:"msl-single-value","data-msl":!0},o.length===1?Re(o[0]):o.length+" "+J),h&&o.length===1&&v.createElement("span",{className:"msl-single-value","data-msl":!0},Re(o[0])),ke()&&v.createElement("div",{"data-msl":!0,"data-placeholder":O,className:"msl-input",contentEditable:!S,onKeyUp:function(m){var g=m.target.textContent.trim().replace(/,+/g,"");if(g){var j={label:'Create "'+g+'"',value:g},k=pe(g,I);k.length?(U&&!pe(g,I,!0,"value").length&&k.push(j),X(k)):X(U?[j]:[]);var L=function(B){var Z=B.label,N=B.value;return typeof Z!="object"&&Z.match(/Create "|"+/g)&&(Z=Z.replace(/Create "|"+/g,"")),{label:Z,value:N}}(j);m.key!=="Enter"&&m.key!==","||(!U||k.length||de(L,o)?P.length>0&&he(P[0]):(ze(L),he(j)))}else X(null)},ref:c}),!ke()&&o.length<1&&v.createElement("div",{"data-msl":!0,"data-placeholder":O,className:"msl-input"})),(i||p)&&v.createElement("div",{className:"msl-actions msl-flx"},i&&o.length>0&&v.createElement("div",{role:"button",clickable:"true","aria-label":"close-menu",onClick:je,onKeyPress:je,tabIndex:"0",className:"msl-btn msl-clear-btn msl-flx"},l||v.createElement($e,null)),p&&v.createElement("div",{role:"button",tabIndex:"0","dropdown-handle":"true",className:"msl-btn msl-arrow-btn msl-flx",style:re({},V&&{transform:"rotate(180deg)"})},r||v.createElement(at,null)))),v.createElement("div",{className:"msl-options"},!P&&I.length?v.createElement(Le,{opts:I,singleSelect:h,addValue:he,checkValueExist:de,value:o,largeData:_,menuOpen:V}):P&&P.length?v.createElement(Le,{opts:P,singleSelect:h,addValue:he,checkValueExist:de,value:o,largeData:_,menuOpen:V}):(P&&!P.length||I&&!I.length)&&v.createElement("option",{className:"msl-option msl-option-disable"},H)))}ye.defaultProps={clearable:!0,clearAll:!1,downArrow:!0,singleSelect:!1,jsonValue:!1,defaultValue:"",disableChip:!1,name:"",style:{},disabled:!1,limit:null,emptyDataLabel:"No Data Found",placeholder:"Select...",onChange:function(){},onMenuOpen:function(){},onMenuClose:function(){},options:[{label:"Empty",value:"",disabled:!0,style:{textAlign:"center"}}],customValue:!1,chipAlternateText:"Item Selected",closeOnSelect:!0,disableSearch:!1};function xe({className:t,disabled:a,checked:r,onChange:l,radio:i,name:s,title:p,value:b,sqr:h}){return e.jsxs("label",{className:`btcd-ck-wrp ${t}`,children:[p,e.jsx("input",{type:i?"radio":"checkbox",checked:r,onChange:l,name:s,value:b,disabled:a}),e.jsx("span",{className:`btcd-mrk ${!h&&"br-50"} ${i?"rdo":"ck"}`})]})}function it({action:t,children:a}){return e.jsxs("div",{className:"action-btn-wrapper",children:[e.jsx("div",{className:"action-btn",tabIndex:"0",role:"button",onClick:t,onKeyPress:t,children:e.jsx(We,{})}),a]})}function Ue({crmConf:t,setCrmConf:a,formFields:r,tab:l,formID:i,setSnackbar:s}){var A,H,U,G,D,J,Y,Q,K,o,le,ae,I,ee,ie,P,X;const[p,b]=R.useState(!1),[h,w]=R.useState(!1),[E,y]=R.useState({show:!1,action:()=>{}}),O=typeof bitcf7!="undefined"&&bitcf7.isPro,d=(c,x)=>{var V,T;const u=F({},t);if(l===0){if(x==="attachment"&&(c!==""?u.actions.attachment=c:delete u.actions.attachment),x==="approval"&&(c.target.checked?u.actions.approval=!0:delete u.actions.approval),x==="workflow"&&(c.target.checked?u.actions.workflow=!0:delete u.actions.workflow),x==="blueprint"&&(c.target.checked?u.actions.blueprint=!0:delete u.actions.blueprint),x==="gclid"&&(c.target.checked?u.actions.gclid=!0:delete u.actions.gclid),x==="assignment_rules"&&(c!==""?u.actions.assignment_rules=c:delete u.actions.assignment_rules),x==="tag_rec"&&(c!==""?u.actions.tag_rec=c:delete u.actions.tag_rec),x==="rec_owner"&&(c!==""?u.actions.rec_owner=c:delete u.actions.rec_owner),x==="upsert")if(c.target.checked){const te=(V=u.default.layouts[u.module][u.layout].unique)==null?void 0:V.map((W,C)=>({i:C,name:W}));u.actions.upsert={overwrite:!0,crmField:te}}else delete u.actions.upsert}else if(x==="attachment"&&(c!==""?u.relatedlists[l-1].actions.attachment=c:delete u.relatedlists[l-1].actions.attachment),x==="approval"&&(c.target.checked?u.relatedlists[l-1].actions.approval=!0:delete u.relatedlists[l-1].actions.approval),x==="workflow"&&(c.target.checked?u.relatedlists[l-1].actions.workflow=!0:delete u.relatedlists[l-1].actions.workflow),x==="blueprint"&&(c.target.checked?u.relatedlists[l-1].actions.blueprint=!0:delete u.relatedlists[l-1].actions.blueprint),x==="gclid"&&(c.target.checked?u.relatedlists[l-1].actions.gclid=!0:delete u.relatedlists[l-1].actions.gclid),x==="assignment_rules"&&(c!==""?u.relatedlists[l-1].actions.assignment_rules=c:delete u.relatedlists[l-1].actions.assignment_rules),x==="tag_rec"&&(c!==""?u.relatedlists[l-1].actions.tag_rec=c:delete u.relatedlists[l-1].actions.tag_rec),x==="rec_owner"&&(c!==""?u.relatedlists[l-1].actions.rec_owner=c:delete u.relatedlists[l-1].actions.rec_owner),x==="upsert")if(c.target.checked){const te=(T=u.default.layouts[u.relatedlists[l-1].module][u.relatedlists[l-1].layout].unique)==null?void 0:T.map((W,C)=>({i:C,name:W}));u.relatedlists[l-1].actions.upsert={overwrite:!0,crmField:te}}else delete u.relatedlists[l-1].actions.upsert;a(F({},u))},f=()=>{y({show:!1})},z=l===0?t.module:t.relatedlists[l-1].module,q=()=>{var x,u;const c=[{title:"Zoho CRM Tags",type:"group",childs:[]},{title:"Form Fields",type:"group",childs:[]}];return(x=t.default.tags)!=null&&x[z]&&(c[0].childs=Object.values((u=t.default.tags)==null?void 0:u[z]).map(V=>({label:V,value:V}))),c[1].childs=r.map(V=>({label:V.name,value:`\${${V.key}}`})),c},_=(c,x)=>{const u=F({},t);l===0?(x==="list"&&(u.actions.upsert.crmField=c),x==="overwrite"&&(u.actions.upsert.overwrite=c)):(x==="list"&&(u.relatedlists[l-1].actions.upsert.crmField=c),x==="overwrite"&&(u.relatedlists[l-1].actions.upsert.overwrite=c)),a(F({},u))},S=()=>{var c,x,u,V;if(l&&!((c=t.relatedlists[l-1].actions.upsert)!=null&&c.crmField)){const T=F({},t),te=(x=T.default.layouts[T.relatedlists[l-1].module][T.relatedlists[l-1].layout].unique)==null?void 0:x.map((W,C)=>({i:C,name:W}));T.relatedlists[l-1].actions.upsert={overwrite:!0,crmField:te},a(T)}else if(!((u=t.actions.upsert)!=null&&u.crmField)){const T=F({},t),te=(V=T.default.layouts[T.module][T.layout].unique)==null?void 0:V.map((W,C)=>({i:C,name:W}));T.actions.upsert={overwrite:!0,crmField:te},a(F({},T))}b(!0)};return e.jsxs("div",{className:"pos-rel",children:[!O&&e.jsx("div",{className:"pro-blur flx w-10",style:{top:-25},children:e.jsxs("div",{className:"pro",children:[n("Available On","bitcf7zc"),e.jsx("a",{href:"https://formsintegrations.com/contact-form-7-integration-with-zoho-crm",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",n("Premium","bitcf7zc")]})})]})}),e.jsxs("div",{className:"d-flx flx-wrp",children:[e.jsx(se,{onChange:c=>d(c,"workflow"),checked:l===0?"workflow"in t.actions:"workflow"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Workflow",title:n("Workflow","bitcf7zc"),subTitle:n("Trigger CRM workflows","bitcf7zc")}),e.jsx(se,{onChange:()=>y({show:"attachment"}),checked:l===0?"attachment"in t.actions:"attachment"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Attachment",title:n("Attachment","bitcf7zc"),subTitle:n("Add attachments or signatures from BitForm to CRM.","bitcf7zc")}),e.jsx(se,{onChange:c=>d(c,"approval"),checked:l===0?"approval"in t.actions:"approval"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Approval",title:n("Approval","bitcf7zc"),subTitle:n("Send entries to CRM approval list.","bitcf7zc")}),e.jsx(se,{onChange:c=>d(c,"blueprint"),checked:l===0?"blueprint"in t.actions:"blueprint"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Blueprint",title:n("Blueprint","bitcf7zc"),subTitle:n("Trigger CRM Blueprint","bitcf7zc")}),e.jsx(se,{onChange:c=>d(c,"gclid"),checked:l===0?"gclid"in t.actions:"gclid"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Capture_GCLID",title:n("Capture GCLID","bitcf7zc"),subTitle:n("Sends the click details of AdWords Ads to Zoho CRM.","bitcf7zc")}),e.jsx(it,{action:S,children:e.jsx(se,{onChange:c=>d(c,"upsert"),checked:l===0?"upsert"in t.actions:"upsert"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Upsert_Record",title:n("Upsert Records","bitcf7zc"),subTitle:n("The record is updated if it already exists else it is inserted as a new record.","bitcf7zc")})}),e.jsx(se,{checked:l===0?"assignment_rules"in t.actions:"assignment_rules"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Assignment_Rule",title:n("Assignment Rules","bitcf7zc"),subTitle:n("Trigger Assignment Rules in Zoho CRM.","bitcf7zc")}),e.jsx(se,{onChange:()=>y({show:"tag_rec"}),checked:l===0?"tag_rec"in t.actions:"tag_rec"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Tag_Records",title:n("Tag Records","bitcf7zc"),subTitle:n("Add a tag to records pushed to Zoho CRM.","bitcf7zc")}),e.jsx(se,{checked:l===0?"rec_owner"in t.actions:"rec_owner"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Record_Owner",title:n("Record Owner","bitcf7zc"),subTitle:n("Add a owner to records pushed to Zoho CRM.","bitcf7zc")})]}),e.jsxs(me,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:n("Ok","bitcf7zc"),show:E.show==="attachment",close:f,action:f,title:n("Select Attachment","bitcf7zc"),children:[e.jsx("div",{className:"btcd-hr mt-2"}),e.jsx("div",{className:"mt-2",children:n("Select file upload fields","bitcf7zc")}),e.jsx(ye,{defaultValue:l===0?t.actions.attachment:t.relatedlists[l-1].actions.attachment,className:"mt-2 w-9",onChange:c=>d(c,"attachment"),options:r.filter(c=>c.type==="file").map(c=>({label:c.name,value:c.key}))})]}),e.jsxs(me,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:n("Ok","bitcf7zc"),show:E.show==="assignment_rules",close:f,action:f,title:n("Assignment Rules","bitcf7zc"),children:[e.jsx("div",{className:"btcd-hr mt-2"}),e.jsx("div",{className:"mt-2",children:n("Assignment Rules","bitcf7zc")}),h?e.jsx(oe,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):e.jsxs("div",{className:"flx flx-between mt-2",children:[e.jsxs("select",{value:l===0?t.actions.assignment_rules:t.relatedlists[l-1].actions.assignment_rules,className:"btcd-paper-inp",onChange:c=>d(c.target.value,"assignment_rules"),children:[e.jsx("option",{value:"",children:n("Select Assignment Rule","bitcf7zc")}),((H=(A=t==null?void 0:t.default)==null?void 0:A.assignmentRules)==null?void 0:H[z])&&Object.keys(t.default.assignmentRules[z]).map(c=>e.jsx("option",{value:t.default.assignmentRules[z][c],children:c},c))]}),e.jsx("button",{className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Assignment Rules","bitcf7zc")}'`},type:"button",disabled:h,children:"â†»"})]})]}),e.jsxs(me,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:n("Ok","bitcf7zc"),show:E.show==="tag_rec",close:f,action:f,title:n("Tag Records","bitcf7zc"),children:[e.jsx("div",{className:"btcd-hr mt-2 mb-2"}),e.jsx("small",{children:n("Add a tag to records pushed to Zoho CRM","bitcf7zc")}),e.jsx("div",{className:"mt-2",children:n("Tag Name","bitcf7zc")}),h?e.jsx(oe,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):e.jsxs("div",{className:"flx flx-between mt-2",children:[e.jsx(ye,{className:"msl-wrp-options",defaultValue:l===0?t.actions.tag_rec:t.relatedlists[l-1].actions.tag_rec,options:q(),onChange:c=>d(c,"tag_rec"),customValue:!0}),e.jsx("button",{className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`${n("Refresh CRM Tags","bitcf7zc")}'`},type:"button",disabled:h,children:"â†»"})]})]}),e.jsxs(me,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:n("Ok","bitcf7zc"),show:E.show==="rec_owner",close:f,action:f,title:n("Record Owner","bitcf7zc"),children:[e.jsx("div",{className:"btcd-hr mt-2"}),e.jsx("div",{className:"mt-2",children:n("Owner Name","bitcf7zc")}),h?e.jsx(oe,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):e.jsxs("div",{className:"flx flx-between mt-2",children:[e.jsxs("select",{value:l===0?t.actions.rec_owner:t.relatedlists[l-1].actions.rec_owner,className:"btcd-paper-inp",onChange:c=>d(c.target.value,"rec_owner"),children:[e.jsx("option",{value:"",children:n("Select Owner","bitcf7zc")}),((U=t.default)==null?void 0:U.crmOwner)&&((G=Object.values(t.default.crmOwner))==null?void 0:G.map(c=>e.jsx("option",{value:c.id,children:c.full_name},c.id)))]}),e.jsx("button",{className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Owners","bitcf7zc")}'`},type:"button",disabled:h,children:"â†»"})]})]}),e.jsx(He,{md:!0,show:p,setModal:b,title:n("Upsert Record","bitcf7zc"),children:e.jsx("div",{className:"o-a",children:l===0?((D=t==null?void 0:t.actions)==null?void 0:D.upsert)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-w-m mt-2",children:n("Upsert Using","bitcf7zc")}),e.jsx("small",{children:n("Arrange fields in order of preferance for upsertion","bitcf7zc")}),e.jsx(Se.ReactSortable,{list:(J=t.actions.upsert)==null?void 0:J.crmField,setList:c=>_(c,"list"),children:(Q=(Y=t.actions.upsert)==null?void 0:Y.crmField)==null?void 0:Q.map(c=>e.jsxs("div",{className:"upsert_rec w-7 mt-1 flx",children:[e.jsx("span",{className:"btcd-icn btcd-mnu mr-2"}),c.name]},`cf-${c.i}`))}),e.jsx("div",{className:"font-w-m mt-3",children:n("Upsert Preferance","bitcf7zc")}),e.jsx("small",{children:n("Overwrite existing field values in Zoho CRM with empty field values from Zoho CRM For Contact Form 7 while upserting a record?","bitcf7zc")}),e.jsxs("div",{children:[e.jsx(xe,{onChange:()=>_(!0,"overwrite"),radio:!0,checked:(K=t.actions.upsert)==null?void 0:K.overwrite,name:"up-rec",title:n("Yes","bitcf7zc")}),e.jsx(xe,{onChange:()=>_(!1,"overwrite"),radio:!0,checked:!((o=t.actions.upsert)!=null&&o.overwrite),name:"up-rec",title:n("No","bitcf7zc")})]})]}):((ae=(le=t==null?void 0:t.relatedlists[l-1])==null?void 0:le.actions)==null?void 0:ae.upsert)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-w-m mt-2",children:n("Upsert Using","bitcf7zc")}),e.jsx("small",{children:n("Arrange fields in order of preferance for upsertion","bitcf7zc")}),e.jsx(Se.ReactSortable,{list:(I=t.relatedlists[l-1].actions.upsert)==null?void 0:I.crmField,setList:c=>_(c,"list"),children:(ie=(ee=t.relatedlists[l-1].actions.upsert)==null?void 0:ee.crmField)==null?void 0:ie.map(c=>e.jsxs("div",{className:"upsert_rec w-7 mt-1 flx",children:[e.jsx("span",{className:"btcd-icn btcd-mnu mr-2"}),c.name]},`cf-${c.i}`))}),e.jsx("div",{className:"font-w-m mt-3",children:n("Upsert Preferance","bitcf7zc")}),e.jsx("small",{children:n("Overwrite existing field values in Zoho CRM with empty field values from Zoho CRM For Contact Form 7 while upserting a record?","bitcf7zc")}),e.jsxs("div",{children:[e.jsx(xe,{onChange:()=>_(!0,"overwrite"),radio:!0,checked:(P=t.relatedlists[l-1].actions.upsert)==null?void 0:P.overwrite,name:"up-rec",title:n("Yes","bitcf7zc")}),e.jsx(xe,{onChange:()=>_(!1,"overwrite"),radio:!0,checked:!((X=t.relatedlists[l-1].actions.upsert)!=null&&X.overwrite),name:"up-rec",title:n("No","bitcf7zc")})]})]})})})]})}function nt({label:t,onChange:a,value:r,disabled:l,type:i,textarea:s,className:p}){return e.jsxs("label",{className:`btcd-mt-inp ${p}`,children:[!s&&e.jsx("input",{type:i===void 0?"text":i,onChange:a,placeholder:" ",disabled:l,value:r}),s&&e.jsx("textarea",{type:i===void 0?"text":i,onChange:a,placeholder:" ",disabled:l,value:r}),e.jsx("span",{children:t})]})}function fe({i:t,formFields:a,uploadFields:r,field:l,crmConf:i,setCrmConf:s,tab:p}){var E,y,O,d,f,z,q,_,S,A,H,U,G,D,J,Y,Q,K;const b=p===0?i.module:(y=(E=i.relatedlists)==null?void 0:E[p-1])==null?void 0:y.module,h=p===0?i.layout:(d=(O=i.relatedlists)==null?void 0:O[p-1])==null?void 0:d.layout;let w;return r?w=l.zohoFormField===""||((_=(q=(z=(f=i.default.layouts)==null?void 0:f[b])==null?void 0:z[h])==null?void 0:q.requiredFileUploadFields)==null?void 0:_.indexOf(l.zohoFormField))===-1:w=l.zohoFormField===""||((U=(H=(A=(S=i.default.layouts)==null?void 0:S[b])==null?void 0:A[h])==null?void 0:H.required)==null?void 0:U.indexOf(l.zohoFormField))===-1,e.jsxs("div",{className:"flx mt-2 mr-1",children:[e.jsxs("div",{className:"flx integ-fld-wrp",children:[e.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:l.formField||"",onChange:o=>Te(o,t,i,s,r,p),children:[e.jsx("option",{value:"",children:n("Select Field","bitcf7zc")}),r?a.map(o=>o.type==="file"&&e.jsx("option",{value:o.name,children:o.label},`ff-zhcrm-${o.name}`)):a.map(o=>o.type!=="file"&&e.jsx("option",{value:o.name,children:o.label},`ff-zhcrm-${o.name}`)),!r&&e.jsx("option",{value:"custom",children:n("Custom...","bitcf7zc")})]}),l.formField==="custom"&&e.jsx(nt,{onChange:o=>Ce(o,t,i,s,p),label:n("Custom Value","bitcf7zc"),className:"mr-2",type:"text",value:l.customValue,placeholder:n("Custom Value","bitcf7zc")}),e.jsxs("select",{className:"btcd-paper-inp",disabled:!w,name:"zohoFormField",value:l.zohoFormField||"",onChange:o=>Te(o,t,i,s,r,p),children:[e.jsx("option",{value:"",children:n("Select Field","bitcf7zc")}),r?((J=(D=(G=i.default.layouts)==null?void 0:G[b])==null?void 0:D[h])==null?void 0:J.fileUploadFields)&&Object.keys(i.default.layouts[b][h].fileUploadFields).filter(o=>o.required!==!0).map(o=>w?!i.default.layouts[b][h].fileUploadFields[o].required&&e.jsx("option",{value:o,children:i.default.layouts[b][h].fileUploadFields[o].display_label},o):e.jsx("option",{value:o,children:i.default.layouts[b][h].fileUploadFields[o].display_label},o)):((K=(Q=(Y=i.default.layouts)==null?void 0:Y[b])==null?void 0:Q[h])==null?void 0:K.fields)&&Object.keys(i.default.layouts[b][h].fields).filter(o=>o.required!==!0).map(o=>w?!i.default.layouts[b][h].fields[o].required&&e.jsx("option",{value:o,children:i.default.layouts[b][h].fields[o].display_label},o):e.jsx("option",{value:o,children:i.default.layouts[b][h].fields[o].display_label},o))]})]}),w&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>ue(t,i,s,r,p),className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),e.jsx("button",{onClick:()=>Xe(t,i,s,r,p),className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:e.jsx("span",{className:"btcd-icn icn-trash-2"})})]})]})}function ct({tab:t,settab:a,formID:r,formFields:l,crmConf:i,setCrmConf:s,handleInput:p,isLoading:b,setisLoading:h,setSnackbar:w}){var y,O,d,f,z,q,_;R.useEffect(()=>{Je(0,a)},[]);const E=typeof bitcf7!="undefined"&&bitcf7.isPro;return e.jsxs(e.Fragment,{children:[b&&e.jsx(oe,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("b",{className:"wdt-100 d-in-b",children:n("Layout:","bitcf7zc")}),e.jsxs("select",{onChange:p,name:"layout",value:i.layout,className:"btcd-paper-inp w-7",children:[e.jsx("option",{value:"",children:n("Select Layout","bitcf7zc")}),((O=(y=i==null?void 0:i.default)==null?void 0:y.layouts)==null?void 0:O[i.module])&&Object.keys(i.default.layouts[i.module]).map(S=>e.jsx("option",{value:S,children:S},S)),e.jsx("option",{value:"",disabled:!0,children:n("More layouts on the Pro version","bitcf7zc")})]}),e.jsx("button",{onClick:()=>Ye(t,r,i,s,h,w),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Layouts","bitcf7zc")}'`},type:"button",disabled:b,children:"â†»"}),e.jsx("br",{}),e.jsx("br",{}),((q=(z=(f=(d=i.default)==null?void 0:d.layouts)==null?void 0:f[i.module])==null?void 0:z[i.layout])==null?void 0:q.fields)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Field Map","bitcf7zc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-1",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Form Fields","bitcf7zc")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Zoho Fields","bitcf7zc")})})]}),i.field_map.map((S,A)=>e.jsx(fe,{i:A,field:S,crmConf:i,formFields:l,setCrmConf:s,tab:t,setSnackbar:w},`crm-m-${A+9}`)),e.jsx("div",{className:"txt-center  mt-2",style:{marginRight:85},children:e.jsx("button",{onClick:()=>ue(i.field_map.length,i,s,!1,t),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{}),Object.keys((_=i.default.layouts[i.module][i.layout])==null?void 0:_.fileUploadFields).length!==0&&e.jsxs("div",{className:"pos-rel",children:[!E&&e.jsx("div",{className:"pro-blur flx",children:e.jsxs("div",{className:"pro",children:["Available On",e.jsx("a",{href:"https://formsintegrations.com/contact-form-7-integration-with-zoho-crm",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",n("Premium","bitcf7zc")]})})]})}),e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Map File Upload Fields","bitcf7zc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-1",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Form Fields","bitcf7zc")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Zoho Fields","bitcf7zc")})})]}),i.upload_field_map.map((S,A)=>e.jsx(fe,{i:A,uploadFields:!0,field:S,crmConf:i,formFields:l,setCrmConf:s,tab:t,setSnackbar:w},`crm-m-${A+9}`)),e.jsx("div",{className:"txt-center  mt-2",style:{marginRight:85},children:e.jsx("button",{onClick:()=>ue(i.upload_field_map.length,i,s,!0,t),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Actions","bitcf7zc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsx(Ue,{formID:r,formFields:l,crmConf:i,setCrmConf:s,tab:t,setSnackbar:w})]})]})}function rt({indx:t,tab:a,settab:r,formID:l,formFields:i,crmConf:s,setCrmConf:p,handleInput:b,isLoading:h,setisLoading:w,setSnackbar:E}){var O,d,f,z,q,_,S,A,H,U,G,D,J,Y,Q,K,o,le,ae,I,ee,ie,P,X,c;const y=typeof bitcf7!="undefined"&&bitcf7.isPro;return e.jsxs(e.Fragment,{children:[h&&e.jsx(oe,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),e.jsx("br",{}),e.jsx("br",{}),!y&&e.jsxs("div",{className:"pos-rel",children:[e.jsx("div",{className:"pro-blur flx w-9",children:e.jsxs("div",{className:"pro",children:[n("Available On","bitcf7zc"),e.jsx("a",{href:"https://formsintegrations.com/contact-form-7-integration-with-zoho-crm",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",n("Premium","bitcf7zc")]})})]})}),e.jsx("b",{className:"wdt-100 d-in-b",children:n("Related List:","bitcf7zc")}),e.jsxs("select",{onChange:b,name:"module",value:(d=(O=s==null?void 0:s.relatedlists)==null?void 0:O[a-1])==null?void 0:d.module,className:"btcd-paper-inp w-7",disabled:!s.module,children:[e.jsx("option",{value:"",children:n("Select Related Module","bitcf7zc")}),((z=(f=s==null?void 0:s.default)==null?void 0:f.relatedlists)==null?void 0:z[s.module])&&Object.values(s.default.relatedlists[s.module]).map(x=>e.jsx("option",{value:x.module,children:x.name},x.module))]}),e.jsx("button",{className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Related Lists","bitcf7zc")}'`},type:"button",disabled:h,children:"â†»"}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("b",{className:"wdt-100 d-in-b",children:n("Layout:","bitcf7zc")}),e.jsxs("select",{onChange:b,name:"layout",value:(_=(q=s==null?void 0:s.relatedlists)==null?void 0:q[a-1])==null?void 0:_.layout,className:"btcd-paper-inp w-7",disabled:!((A=(S=s==null?void 0:s.relatedlists)==null?void 0:S[a-1])!=null&&A.module),children:[e.jsx("option",{value:"",children:n("Select Layout","bitcf7zc")}),((D=(H=s==null?void 0:s.default)==null?void 0:H.layouts)==null?void 0:D[(G=(U=s.relatedlists)==null?void 0:U[a-1])==null?void 0:G.module])&&Object.keys(s.default.layouts[s.relatedlists[a-1].module]).map(x=>e.jsx("option",{value:x,children:x},x))]}),e.jsx("button",{className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":'"Refresh CRM Layouts"'},type:"button",disabled:h,children:"â†»"})]}),e.jsx("br",{}),e.jsx("br",{}),((I=(ae=(K=(J=s.default)==null?void 0:J.layouts)==null?void 0:K[(Q=(Y=s==null?void 0:s.relatedlists)==null?void 0:Y[a-1])==null?void 0:Q.module])==null?void 0:ae[(le=(o=s==null?void 0:s.relatedlists)==null?void 0:o[a-1])==null?void 0:le.layout])==null?void 0:I.fields)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Field Map","bitcf7zc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-1",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Form Fields","bitcf7zc")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Zoho Fields","bitcf7zc")})})]}),(P=(ie=(ee=s.relatedlists)==null?void 0:ee[a-1])==null?void 0:ie.field_map)==null?void 0:P.map((x,u)=>e.jsx(fe,{i:u,field:x,crmConf:s,formFields:i,setCrmConf:p,tab:a,setSnackbar:E},`crm-m-${u+9}`)),e.jsx("div",{className:"txt-center  mt-2",style:{marginRight:85},children:e.jsx("button",{onClick:()=>ue(s.relatedlists[a-1].field_map.length,s,p,!1,a),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{}),((c=(X=s.default)==null?void 0:X.layouts[s.relatedlists[a-1].module])==null?void 0:c[s.relatedlists[a-1].layout])&&Object.keys(s.default.layouts[s.relatedlists[a-1].module][s.relatedlists[a-1].layout].fileUploadFields).length!==0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("File Upload Field Map","bitcf7zc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-1",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Form Fields","bitcf7zc")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Zoho Fields","bitcf7zc")})})]}),s.relatedlists[a-1].upload_field_map.map((x,u)=>e.jsx(fe,{i:u,uploadFields:1,field:x,crmConf:s,formFields:i,setCrmConf:p,tab:a,setSnackbar:E},`crm-m-${u+9}`)),e.jsx("div",{className:"txt-center  mt-2",style:{marginRight:85},children:e.jsx("button",{onClick:()=>ue(s.relatedlists[a-1].upload_field_map.length,s,p,!0,a),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Actions","bitcf7zc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsx(Ue,{formFields:i,crmConf:s,setCrmConf:p,tab:a,formID:l,setSnackbar:E})]})]})}function bt({tab:t,settab:a,formID:r,formFields:l,handleInput:i,crmConf:s,setCrmConf:p,isLoading:b,setisLoading:h,setSnackbar:w}){var O;const E=()=>{if(s.relatedlists.length<3){const d=F({},s);d.relatedlists.push({actions:{},field_map:[{formField:"",zohoFormField:""}],layout:"",module:"",upload_field_map:[{formField:"",zohoFormField:""}]}),p(F({},d))}},y=d=>{const f=F({},s);f.relatedlists.splice(d,1),f.relatedlists.length||a(0),p(F({},f))};return e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("b",{className:"wdt-100 d-in-b",children:n("Module:","bitcf7zc")}),e.jsxs("select",{onChange:i,name:"module",value:s.module,className:"btcd-paper-inp w-7",disabled:t,children:[e.jsx("option",{value:"",children:n("Select Module","bitcf7zc")}),((O=s==null?void 0:s.default)==null?void 0:O.modules)&&Object.keys(s.default.modules).map(d=>e.jsx("option",{value:d,children:s.default.modules[d].plural_label},d)),e.jsx("option",{value:"",disabled:!0,children:n("More module on the Pro version","bitcf7zc")})]}),t===0&&e.jsx("button",{onClick:()=>Qe(r,s,p,h,w),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Modules","bitcf7zc")}'`},type:"button",disabled:b,children:"â†»"}),e.jsx("br",{}),e.jsx("div",{children:e.jsxs(et,{children:[e.jsxs("div",{className:"flx mt-2",children:[e.jsx(Ae,{children:e.jsx("button",{className:`btcd-s-tab-link ${t===0&&"s-t-l-active"}`,type:"button",children:n("New Record","bitcf7zc")})}),(s==null?void 0:s.relatedlists)&&s.relatedlists.map((d,f)=>e.jsxs(e.Fragment,{children:[e.jsx(Ae,{children:e.jsxs("button",{className:`btcd-s-tab-link ${t===f+1&&"s-t-l-active"}`,type:"button",children:[n("Related List #","bitcf7zc"),f+1]})},`t-${f*3}`),e.jsx("button",{onClick:()=>y(f),className:"icn-btn","aria-label":"delete-relatedlist",type:"button",children:e.jsx(Ge,{size:"14"})})]})),s.relatedlists.length<3&&e.jsx("button",{onClick:E,className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Add More Related List","bitcf7zc")}'`},type:"button",children:"+"})]}),e.jsx("div",{className:"btcd-hr"}),e.jsx(Ie,{children:e.jsx(ct,{tab:t,settab:a,formID:r,formFields:l,crmConf:s,setCrmConf:p,handleInput:i,isLoading:b,setisLoading:h,setSnackbar:w})}),(s==null?void 0:s.relatedlists)&&s.relatedlists.map((d,f)=>e.jsx(Ie,{children:e.jsx(rt,{indx:f,tab:t,settab:a,formID:r,formFields:l,crmConf:s,setCrmConf:p,handleInput:i,isLoading:b,setisLoading:h,setSnackbar:w})},`p-${f+2.4}`))]})}),e.jsx("br",{})]})}export{xt as I,bt as Z,mt as a,pt as s};
